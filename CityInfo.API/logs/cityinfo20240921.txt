2024-09-21 01:21:42.797 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-21 01:21:43.511 +01:00 [DBG] Hosting starting
2024-09-21 01:21:45.492 +01:00 [INF] Now listening on: https://localhost:7208
2024-09-21 01:21:45.504 +01:00 [INF] Now listening on: http://localhost:5199
2024-09-21 01:21:45.535 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-21 01:21:45.541 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-21 01:21:45.542 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-21 01:21:45.544 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-21 01:21:45.725 +01:00 [DBG] Connection id "0HN6PQDG586TV" accepted.
2024-09-21 01:21:45.737 +01:00 [DBG] Connection id "0HN6PQDG586TV" received FIN.
2024-09-21 01:21:45.820 +01:00 [DBG] Connection id "0HN6PQDG586TV" started.
2024-09-21 01:21:45.969 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-21 01:21:45.985 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-21 01:21:45.999 +01:00 [INF] Hosting environment: Development
2024-09-21 01:21:46.191 +01:00 [INF] Content root path: C:\Repository\CityInfo\CityInfo.API
2024-09-21 01:21:46.194 +01:00 [DBG] Hosting started
2024-09-21 01:21:46.266 +01:00 [DBG] Connection id "0HN6PQDG586TV" stopped.
2024-09-21 01:21:46.553 +01:00 [DBG] Connection id "0HN6PQDG586TV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-21 01:21:51.813 +01:00 [DBG] Connection id "0HN6PQDG586U0" accepted.
2024-09-21 01:21:53.463 +01:00 [DBG] Connection id "0HN6PQDG586U0" started.
2024-09-21 01:21:54.084 +01:00 [DBG] Connection 0HN6PQDG586U0 established using the following protocol: "Tls13"
2024-09-21 01:21:54.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-21 01:21:55.071 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-21 01:21:55.298 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-21 01:21:55.303 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-21 01:21:55.655 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-21 01:21:55.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-21 01:21:55.684 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-21 01:21:55.835 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-21 01:21:55.838 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 181.7907ms
2024-09-21 01:21:55.841 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 1509.3886ms
2024-09-21 01:21:56.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 381.8151ms
2024-09-21 01:21:56.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-21 01:21:56.739 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 555.8391ms
2024-09-21 01:21:58.722 +01:00 [DBG] Connection id "0HN6PQDG586U0" received FIN.
2024-09-21 01:21:58.736 +01:00 [DBG] The connection queue processing loop for 0HN6PQDG586U0 completed.
2024-09-21 01:21:58.741 +01:00 [DBG] Connection id "0HN6PQDG586U0" is closed. The last processed stream ID was 7.
2024-09-21 01:21:58.753 +01:00 [DBG] Connection id "0HN6PQDG586U0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-21 01:21:58.765 +01:00 [DBG] Connection id "0HN6PQDG586U0" stopped.
2024-09-21 01:25:46.050 +01:00 [DBG] Connection id "0HN6PQDG586U1" received FIN.
2024-09-21 01:25:46.080 +01:00 [DBG] Connection id "0HN6PQDG586U1" accepted.
2024-09-21 01:25:46.082 +01:00 [DBG] Connection id "0HN6PQDG586U1" started.
2024-09-21 01:25:46.092 +01:00 [DBG] Connection id "0HN6PQDG586U2" accepted.
2024-09-21 01:25:46.098 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-21 01:25:46.099 +01:00 [DBG] Connection id "0HN6PQDG586U2" started.
2024-09-21 01:25:46.103 +01:00 [DBG] Connection id "0HN6PQDG586U1" stopped.
2024-09-21 01:25:46.106 +01:00 [DBG] Connection id "0HN6PQDG586U1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-21 01:25:46.119 +01:00 [DBG] Connection 0HN6PQDG586U2 established using the following protocol: "Tls13"
2024-09-21 01:25:46.132 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7208/api/cities/1/pointsofinterest - null null
2024-09-21 01:25:46.141 +01:00 [DBG] The request path  does not match the path filter
2024-09-21 01:25:46.206 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-21 01:25:46.240 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsOfInterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-21 01:25:46.246 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-09-21 01:25:46.254 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-09-21 01:25:46.325 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-09-21 01:25:46.334 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-21 01:25:46.337 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-21 01:25:46.341 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-21 01:25:46.345 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-21 01:25:46.349 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-21 01:25:46.356 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:25:46.693 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-21 01:25:46.969 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:25:47.005 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:25:47.011 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-21 01:25:47.019 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:25:47.021 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:25:47.023 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:25:47.032 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:25:49.669 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-21 01:25:49.743 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(x => x.Id == __cityId_0)'
2024-09-21 01:25:50.221 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-21 01:25:50.339 +01:00 [DBG] Creating DbConnection.
2024-09-21 01:25:50.370 +01:00 [DBG] Created DbConnection. (24ms).
2024-09-21 01:25:50.380 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:25:50.430 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:25:50.450 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:25:50.460 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2024-09-21 01:25:50.494 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (48ms).
2024-09-21 01:25:50.518 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:25:50.625 +01:00 [INF] Executed DbCommand (104ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:25:50.676 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:25:51.033 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 366ms reading results.
2024-09-21 01:25:51.047 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:25:51.064 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (17ms).
2024-09-21 01:25:51.106 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(x => x.CityId == __cityId_0)'
2024-09-21 01:25:51.212 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-21 01:25:51.222 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:25:51.225 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:25:51.229 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:25:51.232 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-21 01:25:51.234 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-21 01:25:51.237 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-09-21 01:25:51.241 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-09-21 01:25:51.284 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-21 01:25:51.338 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-21 01:25:51.342 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:25:51.348 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 100ms reading results.
2024-09-21 01:25:51.351 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:25:51.354 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (2ms).
2024-09-21 01:25:51.389 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-21 01:25:51.399 +01:00 [DBG] No information found on request to perform content negotiation.
2024-09-21 01:25:51.401 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-21 01:25:51.402 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-21 01:25:51.405 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-21 01:25:51.408 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-21 01:25:51.646 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 5287.6479ms
2024-09-21 01:25:51.652 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-09-21 01:25:51.655 +01:00 [DBG] Connection id "0HN6PQDG586U2" completed keep alive response.
2024-09-21 01:25:51.662 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-21 01:25:51.676 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:25:51.687 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (9ms).
2024-09-21 01:25:51.707 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7208/api/cities/1/pointsofinterest - 200 286 application/json; charset=utf-8 5575.3175ms
2024-09-21 01:26:12.273 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7208/api/cities/9/pointsofinterest - null null
2024-09-21 01:26:12.289 +01:00 [DBG] The request path  does not match the path filter
2024-09-21 01:26:12.293 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/9/pointsofinterest'
2024-09-21 01:26:12.297 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsOfInterest' is valid for the request path '/api/cities/9/pointsofinterest'
2024-09-21 01:26:12.301 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-09-21 01:26:12.304 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-09-21 01:26:12.307 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-09-21 01:26:12.314 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-21 01:26:12.318 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-21 01:26:12.321 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-21 01:26:12.325 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-21 01:26:12.331 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-21 01:26:12.334 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:26:12.340 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:26:12.376 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:26:12.388 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-21 01:26:12.390 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:12.393 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:12.399 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:26:12.401 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:12.436 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-21 01:26:12.451 +01:00 [DBG] Creating DbConnection.
2024-09-21 01:26:12.453 +01:00 [DBG] Created DbConnection. (2ms).
2024-09-21 01:26:12.456 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:12.458 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:12.460 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:26:12.466 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-21 01:26:12.468 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-21 01:26:12.471 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:26:12.475 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:26:12.485 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:12.487 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 2ms reading results.
2024-09-21 01:26:12.490 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:12.494 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (3ms).
2024-09-21 01:26:12.501 +01:00 [INF] City with Id 9 does not exist
2024-09-21 01:26:12.535 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-21 01:26:12.610 +01:00 [DBG] No information found on request to perform content negotiation.
2024-09-21 01:26:12.625 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-21 01:26:12.633 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-21 01:26:12.635 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-21 01:26:12.690 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 355.8494ms
2024-09-21 01:26:12.820 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-09-21 01:26:12.959 +01:00 [DBG] Connection id "0HN6PQDG586U2" completed keep alive response.
2024-09-21 01:26:12.966 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-21 01:26:12.969 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:12.990 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (20ms).
2024-09-21 01:26:12.993 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7208/api/cities/9/pointsofinterest - 404 162 application/problem+json; charset=utf-8 720.7328ms
2024-09-21 01:26:37.901 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7208/api/cities/1/pointsofinterest/1 - null null
2024-09-21 01:26:37.917 +01:00 [DBG] The request path  does not match the path filter
2024-09-21 01:26:37.919 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-21 01:26:37.921 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsOfInterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-21 01:26:37.926 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:26:37.931 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:26:37.942 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-09-21 01:26:37.946 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-21 01:26:37.949 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-21 01:26:37.952 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-21 01:26:37.956 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-21 01:26:37.959 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-21 01:26:37.963 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:26:37.972 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:26:37.974 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:26:37.977 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-21 01:26:37.983 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:37.986 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:37.988 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:26:37.990 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:37.993 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-09-21 01:26:37.997 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-09-21 01:26:37.999 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:26:38.002 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:26:38.004 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-09-21 01:26:38.006 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:26:38.142 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-21 01:26:38.150 +01:00 [DBG] Creating DbConnection.
2024-09-21 01:26:38.152 +01:00 [DBG] Created DbConnection. (1ms).
2024-09-21 01:26:38.153 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:38.156 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:38.159 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:26:38.163 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-21 01:26:38.167 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-21 01:26:38.171 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:26:38.174 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:26:38.179 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:38.181 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 2ms reading results.
2024-09-21 01:26:38.184 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:38.187 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (2ms).
2024-09-21 01:26:38.193 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .FirstOrDefault(x => x.Id == __pointOfInterestId_0 && x.CityId == __cityId_1)'
2024-09-21 01:26:38.213 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-21 01:26:38.224 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:38.229 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:38.234 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:26:38.237 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-21 01:26:38.240 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-21 01:26:38.250 +01:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0 AND "p"."CityId" = @__cityId_1
LIMIT 1
2024-09-21 01:26:38.277 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0 AND "p"."CityId" = @__cityId_1
LIMIT 1
2024-09-21 01:26:38.286 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-21 01:26:38.289 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:38.291 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 5ms reading results.
2024-09-21 01:26:38.294 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:38.300 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (5ms).
2024-09-21 01:26:38.305 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-21 01:26:38.310 +01:00 [DBG] No information found on request to perform content negotiation.
2024-09-21 01:26:38.313 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-21 01:26:38.315 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-21 01:26:38.317 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-21 01:26:38.319 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-21 01:26:38.322 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 359.0124ms
2024-09-21 01:26:38.339 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:26:38.341 +01:00 [DBG] Connection id "0HN6PQDG586U2" completed keep alive response.
2024-09-21 01:26:38.342 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-21 01:26:38.350 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:38.353 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (2ms).
2024-09-21 01:26:38.356 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7208/api/cities/1/pointsofinterest/1 - 200 142 application/json; charset=utf-8 454.8824ms
2024-09-21 01:26:45.741 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7208/api/cities/1/pointsofinterest/2 - null null
2024-09-21 01:26:45.751 +01:00 [DBG] The request path  does not match the path filter
2024-09-21 01:26:45.754 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2024-09-21 01:26:45.757 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsOfInterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2024-09-21 01:26:45.765 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:26:45.770 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:26:45.774 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-09-21 01:26:45.787 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-21 01:26:45.791 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-21 01:26:45.799 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-21 01:26:45.804 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-21 01:26:45.809 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-21 01:26:45.816 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:26:45.820 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:26:45.824 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:26:45.827 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-21 01:26:45.837 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:45.842 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:45.851 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:26:45.858 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:26:45.900 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-09-21 01:26:45.910 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-09-21 01:26:45.920 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:26:45.924 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:26:45.927 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-09-21 01:26:45.936 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:26:45.941 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-21 01:26:45.955 +01:00 [DBG] Creating DbConnection.
2024-09-21 01:26:45.958 +01:00 [DBG] Created DbConnection. (2ms).
2024-09-21 01:26:45.968 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:45.972 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:45.976 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:26:45.981 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-21 01:26:45.985 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-21 01:26:45.989 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:26:46.001 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:26:46.008 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:46.013 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 5ms reading results.
2024-09-21 01:26:46.019 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:46.022 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (3ms).
2024-09-21 01:26:46.032 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:46.036 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:46.040 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:26:46.043 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-21 01:26:46.052 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-21 01:26:46.057 +01:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0 AND "p"."CityId" = @__cityId_1
LIMIT 1
2024-09-21 01:26:46.071 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0 AND "p"."CityId" = @__cityId_1
LIMIT 1
2024-09-21 01:26:46.111 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-21 01:26:46.126 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:46.138 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 27ms reading results.
2024-09-21 01:26:46.156 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:26:46.167 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (10ms).
2024-09-21 01:26:46.174 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-21 01:26:46.187 +01:00 [DBG] No information found on request to perform content negotiation.
2024-09-21 01:26:46.189 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-21 01:26:46.192 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-21 01:26:46.200 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-21 01:26:46.204 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-21 01:26:46.208 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 392.4419ms
2024-09-21 01:26:46.219 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:26:46.222 +01:00 [DBG] Connection id "0HN6PQDG586U2" completed keep alive response.
2024-09-21 01:26:46.225 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-21 01:26:46.235 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:26:46.240 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (4ms).
2024-09-21 01:26:46.309 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7208/api/cities/1/pointsofinterest/2 - 200 141 application/json; charset=utf-8 567.8983ms
2024-09-21 01:27:00.388 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7208/api/cities/8/pointsofinterest/2 - null null
2024-09-21 01:27:00.426 +01:00 [DBG] The request path  does not match the path filter
2024-09-21 01:27:00.431 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/8/pointsofinterest/2'
2024-09-21 01:27:00.437 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsOfInterest/{pointOfInterestId}' is valid for the request path '/api/cities/8/pointsofinterest/2'
2024-09-21 01:27:00.441 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:27:00.448 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:27:00.454 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-09-21 01:27:00.460 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-21 01:27:00.469 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-21 01:27:00.473 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-21 01:27:00.483 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-21 01:27:00.488 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-21 01:27:00.493 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:27:00.502 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-09-21 01:27:00.506 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:27:00.510 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-21 01:27:00.523 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:27:00.527 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:27:00.534 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-21 01:27:00.539 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-21 01:27:00.542 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-09-21 01:27:00.557 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-09-21 01:27:00.566 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:27:00.570 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:27:00.575 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-09-21 01:27:00.583 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-09-21 01:27:00.592 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-21 01:27:00.620 +01:00 [DBG] Creating DbConnection.
2024-09-21 01:27:00.624 +01:00 [DBG] Created DbConnection. (4ms).
2024-09-21 01:27:00.628 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:27:00.636 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:27:00.640 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-21 01:27:00.643 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-21 01:27:00.651 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-21 01:27:00.655 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:27:00.665 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-21 01:27:00.671 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:27:00.675 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 4ms reading results.
2024-09-21 01:27:00.686 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-21 01:27:00.690 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (4ms).
2024-09-21 01:27:00.701 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-21 01:27:00.710 +01:00 [DBG] No information found on request to perform content negotiation.
2024-09-21 01:27:00.718 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-21 01:27:00.725 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-21 01:27:00.733 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-21 01:27:00.739 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 245.4936ms
2024-09-21 01:27:00.743 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-21 01:27:00.769 +01:00 [DBG] Connection id "0HN6PQDG586U2" completed keep alive response.
2024-09-21 01:27:00.773 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-21 01:27:00.791 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-21 01:27:00.806 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (14ms).
2024-09-21 01:27:00.836 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7208/api/cities/8/pointsofinterest/2 - 404 162 application/problem+json; charset=utf-8 448.763ms
