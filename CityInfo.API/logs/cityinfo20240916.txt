2024-09-16 04:56:49.821 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-16 04:56:50.805 +01:00 [DBG] Hosting starting
2024-09-16 04:56:52.029 +01:00 [INF] Now listening on: https://localhost:7208
2024-09-16 04:56:52.034 +01:00 [DBG] Connection id "0HN6M0ECGCAB1" received FIN.
2024-09-16 04:56:52.035 +01:00 [DBG] Connection id "0HN6M0ECGCAB1" accepted.
2024-09-16 04:56:52.037 +01:00 [INF] Now listening on: http://localhost:5199
2024-09-16 04:56:52.046 +01:00 [DBG] Connection id "0HN6M0ECGCAB1" started.
2024-09-16 04:56:52.048 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-16 04:56:52.051 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-16 04:56:52.052 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-16 04:56:52.053 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-16 04:56:52.095 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 04:56:52.199 +01:00 [DBG] Connection id "0HN6M0ECGCAB1" stopped.
2024-09-16 04:56:52.210 +01:00 [DBG] Connection id "0HN6M0ECGCAB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 04:56:52.309 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 04:56:52.314 +01:00 [INF] Hosting environment: Development
2024-09-16 04:56:52.316 +01:00 [INF] Content root path: C:\Repository\CityInfo\CityInfo.API
2024-09-16 04:56:52.318 +01:00 [DBG] Hosting started
2024-09-16 04:56:54.231 +01:00 [DBG] Connection id "0HN6M0ECGCAB2" accepted.
2024-09-16 04:56:54.263 +01:00 [DBG] Connection id "0HN6M0ECGCAB2" started.
2024-09-16 04:56:54.265 +01:00 [DBG] Connection id "0HN6M0ECGCAB3" accepted.
2024-09-16 04:56:54.268 +01:00 [DBG] Connection id "0HN6M0ECGCAB3" started.
2024-09-16 04:56:54.516 +01:00 [DBG] Connection 0HN6M0ECGCAB3 established using the following protocol: "Tls13"
2024-09-16 04:56:54.530 +01:00 [DBG] Connection 0HN6M0ECGCAB2 established using the following protocol: "Tls13"
2024-09-16 04:56:54.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger - null null
2024-09-16 04:56:55.195 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-16 04:56:55.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger - 301 0 null 508.8085ms
2024-09-16 04:56:55.302 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-16 04:56:55.474 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-16 04:56:55.487 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-16 04:56:55.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/swagger-ui-bundle.js - null null
2024-09-16 04:56:55.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/swagger-ui.css - null null
2024-09-16 04:56:55.600 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/swagger-ui-standalone-preset.js - null null
2024-09-16 04:56:55.602 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-16 04:56:55.631 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-16 04:56:55.634 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 332.1326ms
2024-09-16 04:56:55.663 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 04:56:55.712 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-16 04:56:55.794 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-16 04:56:55.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/swagger-ui.css - 200 143943 text/css 243.0052ms
2024-09-16 04:56:55.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 321.3667ms
2024-09-16 04:56:56.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-16 04:56:56.020 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 420.1169ms
2024-09-16 04:56:56.085 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-16 04:56:56.148 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 548.2139ms
2024-09-16 04:56:56.512 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 503.3992ms
2024-09-16 04:56:56.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-16 04:56:57.335 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 553.7414ms
2024-09-16 04:57:03.818 +01:00 [DBG] Connection id "0HN6M0ECGCAB2" received FIN.
2024-09-16 04:57:03.818 +01:00 [DBG] Connection id "0HN6M0ECGCAB3" received FIN.
2024-09-16 04:57:03.830 +01:00 [DBG] The connection queue processing loop for 0HN6M0ECGCAB2 completed.
2024-09-16 04:57:03.831 +01:00 [DBG] The connection queue processing loop for 0HN6M0ECGCAB3 completed.
2024-09-16 04:57:03.847 +01:00 [DBG] Connection id "0HN6M0ECGCAB2" is closed. The last processed stream ID was 0.
2024-09-16 04:57:03.847 +01:00 [DBG] Connection id "0HN6M0ECGCAB3" is closed. The last processed stream ID was 15.
2024-09-16 04:57:03.850 +01:00 [DBG] Connection id "0HN6M0ECGCAB2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 04:57:03.853 +01:00 [DBG] Connection id "0HN6M0ECGCAB3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 04:57:03.870 +01:00 [DBG] Connection id "0HN6M0ECGCAB2" stopped.
2024-09-16 04:57:03.870 +01:00 [DBG] Connection id "0HN6M0ECGCAB3" stopped.
2024-09-16 04:57:46.072 +01:00 [DBG] Connection id "0HN6M0ECGCAB4" accepted.
2024-09-16 04:57:46.088 +01:00 [DBG] Connection id "0HN6M0ECGCAB4" started.
2024-09-16 04:57:46.115 +01:00 [DBG] Connection 0HN6M0ECGCAB4 established using the following protocol: "Tls13"
2024-09-16 04:57:46.182 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities - null null
2024-09-16 04:57:46.217 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 04:57:46.315 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-16 04:57:46.338 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-16 04:57:46.362 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 04:57:46.404 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 04:57:46.498 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 04:57:46.509 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 04:57:46.520 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 04:57:46.534 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 04:57:46.539 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 04:57:46.546 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 04:57:46.560 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 04:57:47.288 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-16 04:57:47.389 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 04:57:51.563 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-16 04:57:51.696 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(x => x.Name)'
2024-09-16 04:57:52.418 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-16 04:57:52.533 +01:00 [DBG] Creating DbConnection.
2024-09-16 04:57:52.594 +01:00 [DBG] Created DbConnection. (52ms).
2024-09-16 04:57:52.613 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 04:57:52.697 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 04:57:52.729 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-16 04:57:52.742 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-09-16 04:57:52.749 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-09-16 04:57:52.777 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-16 04:57:52.864 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-16 04:57:52.977 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 04:57:53.056 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 04:57:53.105 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 04:57:53.145 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 04:57:53.168 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 270ms reading results.
2024-09-16 04:57:53.187 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 04:57:53.202 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (15ms).
2024-09-16 04:57:53.229 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-16 04:57:53.252 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-09-16 04:57:53.263 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-16 04:57:53.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 04:57:53.698 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 7133.9217ms
2024-09-16 04:57:53.701 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 04:57:53.716 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-16 04:57:53.736 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 04:57:53.816 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (80ms).
2024-09-16 04:57:53.822 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities - 200 183 application/json; charset=utf-8 7640.1027ms
2024-09-16 04:57:53.900 +01:00 [DBG] Connection id "0HN6M0ECGCAB4" received FIN.
2024-09-16 04:57:53.904 +01:00 [DBG] Connection id "0HN6M0ECGCAB4" is closed. The last processed stream ID was 1.
2024-09-16 04:57:53.904 +01:00 [DBG] Connection id "0HN6M0ECGCAB4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 04:57:53.914 +01:00 [DBG] The connection queue processing loop for 0HN6M0ECGCAB4 completed.
2024-09-16 04:57:53.918 +01:00 [DBG] Connection id "0HN6M0ECGCAB4" stopped.
2024-09-16 07:32:28.147 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-16 07:32:30.762 +01:00 [DBG] Hosting starting
2024-09-16 07:32:31.757 +01:00 [DBG] Connection id "0HN6M35BUSPCN" accepted.
2024-09-16 07:32:31.762 +01:00 [INF] Now listening on: https://localhost:7208
2024-09-16 07:32:31.766 +01:00 [DBG] Connection id "0HN6M35BUSPCO" accepted.
2024-09-16 07:32:31.762 +01:00 [DBG] Connection id "0HN6M35BUSPCN" received FIN.
2024-09-16 07:32:31.800 +01:00 [INF] Now listening on: http://localhost:5199
2024-09-16 07:32:31.799 +01:00 [DBG] Connection id "0HN6M35BUSPCN" started.
2024-09-16 07:32:31.769 +01:00 [DBG] Connection id "0HN6M35BUSPCO" received FIN.
2024-09-16 07:32:31.805 +01:00 [DBG] Connection id "0HN6M35BUSPCO" started.
2024-09-16 07:32:31.813 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-16 07:32:31.860 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-16 07:32:31.918 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-16 07:32:31.921 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-16 07:32:31.972 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 07:32:31.977 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 07:32:32.749 +01:00 [DBG] Connection id "0HN6M35BUSPCN" stopped.
2024-09-16 07:32:33.194 +01:00 [DBG] Connection id "0HN6M35BUSPCP" accepted.
2024-09-16 07:32:33.344 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 07:32:33.383 +01:00 [DBG] Connection id "0HN6M35BUSPCO" stopped.
2024-09-16 07:32:33.403 +01:00 [DBG] Connection id "0HN6M35BUSPCN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:32:33.428 +01:00 [INF] Hosting environment: Development
2024-09-16 07:32:33.423 +01:00 [DBG] Connection id "0HN6M35BUSPCP" started.
2024-09-16 07:32:33.433 +01:00 [DBG] Connection id "0HN6M35BUSPCO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:32:33.449 +01:00 [INF] Content root path: C:\Repository\CityInfo\CityInfo.API
2024-09-16 07:32:33.468 +01:00 [DBG] Hosting started
2024-09-16 07:32:33.629 +01:00 [DBG] Connection 0HN6M35BUSPCP established using the following protocol: "Tls13"
2024-09-16 07:32:33.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-16 07:32:34.435 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-16 07:32:34.720 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-16 07:32:34.729 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-16 07:32:35.027 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-16 07:32:35.094 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-16 07:32:35.095 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 07:32:35.109 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-16 07:32:35.216 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 1297.0532ms
2024-09-16 07:32:35.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 129.5036ms
2024-09-16 07:32:35.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 355.8039ms
2024-09-16 07:32:36.394 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-16 07:32:38.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1720.5763ms
2024-09-16 07:32:39.625 +01:00 [DBG] Connection id "0HN6M35BUSPCP" received FIN.
2024-09-16 07:32:39.647 +01:00 [DBG] The connection queue processing loop for 0HN6M35BUSPCP completed.
2024-09-16 07:32:39.655 +01:00 [DBG] Connection id "0HN6M35BUSPCP" is closed. The last processed stream ID was 7.
2024-09-16 07:32:39.660 +01:00 [DBG] Connection id "0HN6M35BUSPCP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:32:39.674 +01:00 [DBG] Connection id "0HN6M35BUSPCP" stopped.
2024-09-16 07:36:03.284 +01:00 [DBG] Connection id "0HN6M35BUSPCQ" accepted.
2024-09-16 07:36:03.319 +01:00 [DBG] Connection id "0HN6M35BUSPCQ" started.
2024-09-16 07:36:03.352 +01:00 [DBG] Connection 0HN6M35BUSPCQ established using the following protocol: "Tls13"
2024-09-16 07:36:03.366 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities - null null
2024-09-16 07:36:03.389 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 07:36:03.490 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-16 07:36:03.500 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-16 07:36:03.512 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:36:03.527 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:36:03.607 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 07:36:03.617 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 07:36:03.626 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 07:36:03.633 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 07:36:03.649 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 07:36:03.662 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 07:36:03.694 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 07:36:04.131 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-16 07:36:04.229 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 536.8394ms
2024-09-16 07:36:04.238 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:36:04.247 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 07:36:04.302 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities - 500 null text/plain; charset=utf-8 936.7364ms
2024-09-16 07:36:09.900 +01:00 [DBG] Connection id "0HN6M35BUSPCQ" received FIN.
2024-09-16 07:36:09.905 +01:00 [DBG] Connection id "0HN6M35BUSPCQ" is closed. The last processed stream ID was 1.
2024-09-16 07:36:09.905 +01:00 [DBG] The connection queue processing loop for 0HN6M35BUSPCQ completed.
2024-09-16 07:36:09.908 +01:00 [DBG] Connection id "0HN6M35BUSPCQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:36:09.924 +01:00 [DBG] Connection id "0HN6M35BUSPCQ" stopped.
2024-09-16 07:42:48.844 +01:00 [DBG] Connection id "0HN6M35BUSPCR" accepted.
2024-09-16 07:42:48.853 +01:00 [DBG] Connection id "0HN6M35BUSPCR" started.
2024-09-16 07:42:48.901 +01:00 [DBG] Connection 0HN6M35BUSPCR established using the following protocol: "Tls13"
2024-09-16 07:42:48.910 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-16 07:42:49.003 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-16 07:42:49.007 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-16 07:42:49.018 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-16 07:42:49.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 07:42:49.176 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-16 07:42:49.179 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-16 07:42:49.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 342.4669ms
2024-09-16 07:42:49.193 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 23.0453ms
2024-09-16 07:42:49.431 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 254.6707ms
2024-09-16 07:42:49.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-16 07:42:49.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/favicon-32x32.png - null null
2024-09-16 07:42:49.714 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.2236ms
2024-09-16 07:42:49.844 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-16 07:42:49.933 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/favicon-32x32.png - 200 628 image/png 247.8874ms
2024-09-16 07:42:55.531 +01:00 [DBG] Connection id "0HN6M35BUSPCR" received FIN.
2024-09-16 07:42:55.541 +01:00 [DBG] Connection id "0HN6M35BUSPCR" is closed. The last processed stream ID was 9.
2024-09-16 07:42:55.542 +01:00 [DBG] The connection queue processing loop for 0HN6M35BUSPCR completed.
2024-09-16 07:42:55.549 +01:00 [DBG] Connection id "0HN6M35BUSPCR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:42:55.695 +01:00 [DBG] Connection id "0HN6M35BUSPCR" stopped.
2024-09-16 07:42:56.254 +01:00 [DBG] Connection id "0HN6M35BUSPCS" accepted.
2024-09-16 07:42:56.379 +01:00 [DBG] Connection id "0HN6M35BUSPCS" started.
2024-09-16 07:42:56.403 +01:00 [DBG] Connection 0HN6M35BUSPCS established using the following protocol: "Tls13"
2024-09-16 07:42:56.428 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities - null null
2024-09-16 07:42:56.437 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 07:42:56.449 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-16 07:42:56.458 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-16 07:42:56.466 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:42:56.485 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:42:56.516 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 07:42:56.531 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 07:42:56.581 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 07:42:56.606 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 07:42:56.620 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 07:42:56.634 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 07:42:56.646 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 07:42:56.703 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 56.3673ms
2024-09-16 07:42:56.713 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:42:56.720 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method18(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 07:42:56.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities - 500 null text/plain; charset=utf-8 341.6698ms
2024-09-16 07:43:33.904 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-16 07:43:34.296 +01:00 [DBG] Hosting starting
2024-09-16 07:43:35.209 +01:00 [DBG] Connection id "0HN6M3BHM2OCJ" received FIN.
2024-09-16 07:43:35.215 +01:00 [INF] Now listening on: https://localhost:7208
2024-09-16 07:43:35.237 +01:00 [INF] Now listening on: http://localhost:5199
2024-09-16 07:43:35.241 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-16 07:43:35.243 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-16 07:43:35.242 +01:00 [DBG] Connection id "0HN6M3BHM2OCJ" accepted.
2024-09-16 07:43:35.248 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-16 07:43:35.254 +01:00 [DBG] Connection id "0HN6M3BHM2OCJ" started.
2024-09-16 07:43:35.257 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-16 07:43:35.352 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 07:43:36.685 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 07:43:36.125 +01:00 [DBG] Connection id "0HN6M3BHM2OCK" accepted.
2024-09-16 07:43:37.462 +01:00 [DBG] Connection id "0HN6M3BHM2OCJ" stopped.
2024-09-16 07:43:37.464 +01:00 [INF] Hosting environment: Development
2024-09-16 07:43:37.471 +01:00 [DBG] Connection id "0HN6M3BHM2OCK" started.
2024-09-16 07:43:37.518 +01:00 [DBG] Connection id "0HN6M3BHM2OCJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:43:37.721 +01:00 [INF] Content root path: C:\Repository\CityInfo\CityInfo.API
2024-09-16 07:43:37.809 +01:00 [DBG] Hosting started
2024-09-16 07:43:37.990 +01:00 [DBG] Connection 0HN6M3BHM2OCK established using the following protocol: "Tls13"
2024-09-16 07:43:38.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-16 07:43:39.014 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-16 07:43:39.336 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-16 07:43:39.350 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-16 07:43:39.440 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-16 07:43:39.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 07:43:39.496 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-16 07:43:39.499 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-16 07:43:39.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 114.3474ms
2024-09-16 07:43:39.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 1359.5535ms
2024-09-16 07:43:39.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 462.5385ms
2024-09-16 07:43:40.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-16 07:43:40.717 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 571.5983ms
2024-09-16 07:43:45.578 +01:00 [DBG] Connection id "0HN6M3BHM2OCK" received FIN.
2024-09-16 07:43:45.588 +01:00 [DBG] The connection queue processing loop for 0HN6M3BHM2OCK completed.
2024-09-16 07:43:45.596 +01:00 [DBG] Connection id "0HN6M3BHM2OCK" is closed. The last processed stream ID was 7.
2024-09-16 07:43:45.600 +01:00 [DBG] Connection id "0HN6M3BHM2OCK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:43:45.607 +01:00 [DBG] Connection id "0HN6M3BHM2OCK" stopped.
2024-09-16 07:43:52.283 +01:00 [DBG] Connection id "0HN6M3BHM2OCL" accepted.
2024-09-16 07:43:52.295 +01:00 [DBG] Connection id "0HN6M3BHM2OCL" started.
2024-09-16 07:43:52.308 +01:00 [DBG] Connection 0HN6M3BHM2OCL established using the following protocol: "Tls13"
2024-09-16 07:43:52.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities - null null
2024-09-16 07:43:52.337 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 07:43:52.425 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-16 07:43:52.444 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-16 07:43:52.457 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:43:52.471 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:43:52.552 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 07:43:52.565 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 07:43:52.570 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 07:43:52.582 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 07:43:52.587 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 07:43:52.602 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 07:43:52.627 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 07:43:53.098 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-16 07:43:53.519 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 07:43:55.948 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-16 07:43:56.043 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(x => x.Name)'
2024-09-16 07:43:56.711 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-16 07:43:56.806 +01:00 [DBG] Creating DbConnection.
2024-09-16 07:43:56.848 +01:00 [DBG] Created DbConnection. (35ms).
2024-09-16 07:43:56.863 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 07:43:56.931 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 07:43:56.964 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-16 07:43:56.979 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2024-09-16 07:43:56.986 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2024-09-16 07:43:57.010 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-16 07:43:57.075 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-16 07:43:57.163 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 07:43:57.228 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 07:43:57.233 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 07:43:57.249 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 07:43:57.268 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 171ms reading results.
2024-09-16 07:43:57.284 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 07:43:57.302 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (17ms).
2024-09-16 07:43:57.378 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-16 07:43:57.449 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-09-16 07:43:57.466 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-16 07:43:57.471 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 07:43:57.999 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 5371.3696ms
2024-09-16 07:43:58.044 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-16 07:43:58.065 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-16 07:43:58.104 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 07:43:58.711 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (606ms).
2024-09-16 07:43:58.736 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities - 200 183 application/json; charset=utf-8 6419.0085ms
2024-09-16 07:44:00.600 +01:00 [DBG] Connection id "0HN6M3BHM2OCL" received FIN.
2024-09-16 07:44:00.608 +01:00 [DBG] Connection id "0HN6M3BHM2OCL" is closed. The last processed stream ID was 1.
2024-09-16 07:44:00.609 +01:00 [DBG] The connection queue processing loop for 0HN6M3BHM2OCL completed.
2024-09-16 07:44:00.618 +01:00 [DBG] Connection id "0HN6M3BHM2OCL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 07:44:00.644 +01:00 [DBG] Connection id "0HN6M3BHM2OCL" stopped.
2024-09-16 08:25:30.189 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-16 08:25:30.503 +01:00 [DBG] Hosting starting
2024-09-16 08:25:31.117 +01:00 [INF] Now listening on: https://localhost:7208
2024-09-16 08:25:31.119 +01:00 [INF] Now listening on: http://localhost:5199
2024-09-16 08:25:31.121 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-16 08:25:31.122 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-16 08:25:31.124 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-16 08:25:31.125 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-16 08:25:31.202 +01:00 [DBG] Connection id "0HN6M42VGFC3A" received FIN.
2024-09-16 08:25:31.224 +01:00 [DBG] Connection id "0HN6M42VGFC3A" accepted.
2024-09-16 08:25:31.234 +01:00 [DBG] Connection id "0HN6M42VGFC3A" started.
2024-09-16 08:25:31.376 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 08:25:31.389 +01:00 [INF] Hosting environment: Development
2024-09-16 08:25:31.396 +01:00 [INF] Content root path: C:\Repository\CityInfo\CityInfo.API
2024-09-16 08:25:31.398 +01:00 [DBG] Hosting started
2024-09-16 08:25:31.532 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 08:25:31.783 +01:00 [DBG] Connection id "0HN6M42VGFC3B" accepted.
2024-09-16 08:25:32.180 +01:00 [DBG] Connection id "0HN6M42VGFC3B" started.
2024-09-16 08:25:32.187 +01:00 [DBG] Connection id "0HN6M42VGFC3A" stopped.
2024-09-16 08:25:32.211 +01:00 [DBG] Connection id "0HN6M42VGFC3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 08:25:32.308 +01:00 [DBG] Connection 0HN6M42VGFC3B established using the following protocol: "Tls13"
2024-09-16 08:25:32.469 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-16 08:25:32.768 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-16 08:25:32.941 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-16 08:25:32.946 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-16 08:25:33.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 08:25:33.090 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-16 08:25:33.091 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-16 08:25:33.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 27.102ms
2024-09-16 08:25:33.132 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-16 08:25:33.220 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 765.6721ms
2024-09-16 08:25:33.313 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 222.4998ms
2024-09-16 08:25:33.404 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-16 08:25:33.733 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 328.6861ms
2024-09-16 08:25:39.527 +01:00 [DBG] Connection id "0HN6M42VGFC3B" received FIN.
2024-09-16 08:25:39.541 +01:00 [DBG] The connection queue processing loop for 0HN6M42VGFC3B completed.
2024-09-16 08:25:39.545 +01:00 [DBG] Connection id "0HN6M42VGFC3B" is closed. The last processed stream ID was 7.
2024-09-16 08:25:39.549 +01:00 [DBG] Connection id "0HN6M42VGFC3B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 08:25:39.570 +01:00 [DBG] Connection id "0HN6M42VGFC3B" stopped.
2024-09-16 08:28:50.301 +01:00 [DBG] Connection id "0HN6M42VGFC3C" accepted.
2024-09-16 08:28:50.326 +01:00 [DBG] Connection id "0HN6M42VGFC3C" started.
2024-09-16 08:28:50.345 +01:00 [DBG] Connection 0HN6M42VGFC3C established using the following protocol: "Tls13"
2024-09-16 08:28:50.359 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities/1?includePointsOfInterest=true - null null
2024-09-16 08:28:50.392 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 08:28:50.507 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-16 08:28:50.524 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-16 08:28:50.532 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:28:50.550 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:28:50.656 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 08:28:50.666 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 08:28:50.675 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 08:28:50.682 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 08:28:50.695 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 08:28:50.717 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 08:28:50.730 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 08:28:51.143 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-16 08:28:51.565 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 08:28:51.625 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-16 08:28:51.646 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-16 08:28:51.657 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-16 08:28:51.661 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-16 08:28:51.666 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-16 08:28:51.678 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-16 08:28:51.686 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-09-16 08:28:51.692 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2024-09-16 08:28:51.699 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:28:51.705 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:28:51.709 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-09-16 08:28:51.714 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:28:55.491 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-16 08:28:55.745 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(x => x.PointOfInterests)
    .FirstOrDefault(x => x.Id == __cityId_0)'
2024-09-16 08:28:55.924 +01:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-16 08:28:56.663 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-16 08:28:56.767 +01:00 [DBG] Creating DbConnection.
2024-09-16 08:28:56.800 +01:00 [DBG] Created DbConnection. (29ms).
2024-09-16 08:28:56.816 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 08:28:56.891 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:28:56.908 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-16 08:28:56.920 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-16 08:28:56.934 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-16 08:28:56.967 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-16 08:28:57.082 +01:00 [INF] Executed DbCommand (111ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-16 08:28:57.160 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:28:57.300 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:28:57.316 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:28:57.332 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:28:57.356 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 251ms reading results.
2024-09-16 08:28:57.371 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:28:57.382 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (12ms).
2024-09-16 08:28:57.914 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 7181.7993ms
2024-09-16 08:28:57.924 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:28:57.930 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Destination Member:
PointOfInterests

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CityInfo.API.Entities.PointOfInterest -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method92(Closure, PointOfInterest, PointOfInterestDto, ResolutionContext)
   at lambda_method91(Closure, Object, CityDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method91(Closure, Object, CityDto, ResolutionContext)
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Repository\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 08:28:58.030 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-16 08:28:58.066 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 08:28:58.082 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (15ms).
2024-09-16 08:28:58.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities/1?includePointsOfInterest=true - 500 null text/plain; charset=utf-8 7743.1019ms
2024-09-16 08:28:59.860 +01:00 [DBG] Connection id "0HN6M42VGFC3C" received FIN.
2024-09-16 08:28:59.866 +01:00 [DBG] Connection id "0HN6M42VGFC3C" is closed. The last processed stream ID was 1.
2024-09-16 08:28:59.866 +01:00 [DBG] The connection queue processing loop for 0HN6M42VGFC3C completed.
2024-09-16 08:28:59.871 +01:00 [DBG] Connection id "0HN6M42VGFC3C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 08:28:59.891 +01:00 [DBG] Connection id "0HN6M42VGFC3C" stopped.
2024-09-16 08:42:20.584 +01:00 [DBG] Connection id "0HN6M42VGFC3D" accepted.
2024-09-16 08:42:20.591 +01:00 [DBG] Connection id "0HN6M42VGFC3D" started.
2024-09-16 08:42:20.629 +01:00 [DBG] Connection 0HN6M42VGFC3D established using the following protocol: "Tls13"
2024-09-16 08:42:20.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities/1?includePointsOfInterest=false - null null
2024-09-16 08:42:20.697 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 08:42:20.733 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-16 08:42:20.745 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-16 08:42:20.752 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:42:20.759 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:42:20.766 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 08:42:20.772 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 08:42:20.781 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 08:42:20.786 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 08:42:20.796 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 08:42:20.801 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 08:42:20.810 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 08:42:20.819 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 08:42:20.829 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-16 08:42:20.833 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-16 08:42:20.837 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-16 08:42:20.844 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-16 08:42:20.848 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-16 08:42:20.852 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-16 08:42:20.859 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-09-16 08:42:20.864 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2024-09-16 08:42:20.869 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:42:20.875 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:42:20.881 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-09-16 08:42:20.886 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:42:20.964 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-16 08:42:20.977 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .FirstOrDefault(x => x.Id == __cityId_0)'
2024-09-16 08:42:21.000 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-16 08:42:21.008 +01:00 [DBG] Creating DbConnection.
2024-09-16 08:42:21.011 +01:00 [DBG] Created DbConnection. (2ms).
2024-09-16 08:42:21.015 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 08:42:21.021 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:42:21.026 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-16 08:42:21.030 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-16 08:42:21.034 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-16 08:42:21.038 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-16 08:42:21.051 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-16 08:42:21.060 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:42:21.065 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:42:21.069 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 9ms reading results.
2024-09-16 08:42:21.075 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:42:21.080 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (5ms).
2024-09-16 08:42:21.110 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-16 08:42:21.133 +01:00 [DBG] No information found on request to perform content negotiation.
2024-09-16 08:42:21.136 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-16 08:42:21.138 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-16 08:42:21.150 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-16 08:42:21.160 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-16 08:42:21.543 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 737.0617ms
2024-09-16 08:42:21.597 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:42:21.601 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-16 08:42:21.688 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 08:42:21.703 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (15ms).
2024-09-16 08:42:21.726 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities/1?includePointsOfInterest=false - 200 60 application/json; charset=utf-8 1072.0287ms
2024-09-16 08:42:31.189 +01:00 [DBG] Connection id "0HN6M42VGFC3D" received FIN.
2024-09-16 08:42:31.193 +01:00 [DBG] Connection id "0HN6M42VGFC3D" is closed. The last processed stream ID was 1.
2024-09-16 08:42:31.193 +01:00 [DBG] The connection queue processing loop for 0HN6M42VGFC3D completed.
2024-09-16 08:42:31.196 +01:00 [DBG] Connection id "0HN6M42VGFC3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 08:42:31.203 +01:00 [DBG] Connection id "0HN6M42VGFC3D" stopped.
2024-09-16 08:42:36.694 +01:00 [DBG] Connection id "0HN6M42VGFC3E" accepted.
2024-09-16 08:42:36.715 +01:00 [DBG] Connection id "0HN6M42VGFC3E" started.
2024-09-16 08:42:36.750 +01:00 [DBG] Connection 0HN6M42VGFC3E established using the following protocol: "Tls13"
2024-09-16 08:42:36.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/api/cities/1?includePointsOfInterest=true - null null
2024-09-16 08:42:36.769 +01:00 [DBG] The request path  does not match the path filter
2024-09-16 08:42:36.774 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-16 08:42:36.780 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-16 08:42:36.785 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:42:36.787 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:42:36.796 +01:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-16 08:42:36.802 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-16 08:42:36.811 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-16 08:42:36.817 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-16 08:42:36.830 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-16 08:42:36.835 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-16 08:42:36.847 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 08:42:36.887 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-16 08:42:36.930 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-16 08:42:36.935 +01:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-16 08:42:36.944 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-16 08:42:36.948 +01:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-16 08:42:36.952 +01:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-16 08:42:36.960 +01:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-16 08:42:36.964 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-09-16 08:42:36.969 +01:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2024-09-16 08:42:36.980 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:42:36.985 +01:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:42:36.997 +01:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-09-16 08:42:37.003 +01:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-09-16 08:42:37.253 +01:00 [DBG] Entity Framework Core 8.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.8' with options: None
2024-09-16 08:42:37.280 +01:00 [DBG] Creating DbConnection.
2024-09-16 08:42:37.286 +01:00 [DBG] Created DbConnection. (5ms).
2024-09-16 08:42:37.303 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 08:42:37.321 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:42:37.383 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-16 08:42:37.388 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-16 08:42:37.398 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-09-16 08:42:37.403 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-16 08:42:37.425 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-16 08:42:37.438 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:42:37.448 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:42:37.452 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-16 08:42:37.460 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:42:37.464 +01:00 [DBG] A data reader for 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db' is being disposed after spending 26ms reading results.
2024-09-16 08:42:37.469 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Repository\CityInfo\CityInfo.API\CityInfo.Db'.
2024-09-16 08:42:37.479 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.Db' (9ms).
2024-09-16 08:42:37.694 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 847.5351ms
2024-09-16 08:42:37.699 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-16 08:42:37.704 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto

Destination Member:
PointOfInterests

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CityInfo.API.Entities.PointOfInterest -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method92(Closure, PointOfInterest, PointOfInterestDto, ResolutionContext)
   at lambda_method91(Closure, Object, CityDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method91(Closure, Object, CityDto, ResolutionContext)
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\Repository\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 08:42:37.772 +01:00 [DBG] 'CityInfoContext' disposed.
2024-09-16 08:42:37.820 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.Db'.
2024-09-16 08:42:37.827 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.Db' (6ms).
2024-09-16 08:42:37.831 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/api/cities/1?includePointsOfInterest=true - 500 null text/plain; charset=utf-8 1071.9294ms
2024-09-16 08:42:41.207 +01:00 [DBG] Connection id "0HN6M42VGFC3E" received FIN.
2024-09-16 08:42:41.211 +01:00 [DBG] Connection id "0HN6M42VGFC3E" is closed. The last processed stream ID was 1.
2024-09-16 08:42:41.211 +01:00 [DBG] The connection queue processing loop for 0HN6M42VGFC3E completed.
2024-09-16 08:42:41.215 +01:00 [DBG] Connection id "0HN6M42VGFC3E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 08:42:41.223 +01:00 [DBG] Connection id "0HN6M42VGFC3E" stopped.
2024-09-16 12:38:39.135 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-16 12:38:39.461 +01:00 [DBG] Hosting starting
2024-09-16 12:38:40.051 +01:00 [INF] Now listening on: https://localhost:7208
2024-09-16 12:38:40.053 +01:00 [INF] Now listening on: http://localhost:5199
2024-09-16 12:38:40.055 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-16 12:38:40.056 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-16 12:38:40.058 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-16 12:38:40.060 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-16 12:38:40.231 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 12:38:40.234 +01:00 [INF] Hosting environment: Development
2024-09-16 12:38:40.236 +01:00 [INF] Content root path: C:\Repository\CityInfo\CityInfo.API
2024-09-16 12:38:40.238 +01:00 [DBG] Hosting started
2024-09-16 12:38:40.358 +01:00 [DBG] Connection id "0HN6M8GE7HEQC" accepted.
2024-09-16 12:38:40.358 +01:00 [DBG] Connection id "0HN6M8GE7HEQB" accepted.
2024-09-16 12:38:40.361 +01:00 [DBG] Connection id "0HN6M8GE7HEQC" started.
2024-09-16 12:38:40.361 +01:00 [DBG] Connection id "0HN6M8GE7HEQB" started.
2024-09-16 12:38:40.366 +01:00 [DBG] Connection id "0HN6M8GE7HEQC" received FIN.
2024-09-16 12:38:40.366 +01:00 [DBG] Connection id "0HN6M8GE7HEQB" received FIN.
2024-09-16 12:38:40.415 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 12:38:40.415 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-16 12:38:40.520 +01:00 [DBG] Connection id "0HN6M8GE7HEQC" stopped.
2024-09-16 12:38:40.520 +01:00 [DBG] Connection id "0HN6M8GE7HEQB" stopped.
2024-09-16 12:38:40.533 +01:00 [DBG] Connection id "0HN6M8GE7HEQC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 12:38:40.535 +01:00 [DBG] Connection id "0HN6M8GE7HEQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 12:38:41.617 +01:00 [DBG] Connection id "0HN6M8GE7HEQD" accepted.
2024-09-16 12:38:41.676 +01:00 [DBG] Connection id "0HN6M8GE7HEQD" started.
2024-09-16 12:38:41.786 +01:00 [DBG] Connection id "0HN6M8GE7HEQD" received FIN.
2024-09-16 12:38:41.787 +01:00 [DBG] Connection id "0HN6M8GE7HEQE" accepted.
2024-09-16 12:38:41.792 +01:00 [DBG] Connection id "0HN6M8GE7HEQE" started.
2024-09-16 12:38:41.818 +01:00 [DBG] Connection 0HN6M8GE7HEQD established using the following protocol: "Tls13"
2024-09-16 12:38:41.818 +01:00 [DBG] Connection 0HN6M8GE7HEQE established using the following protocol: "Tls13"
2024-09-16 12:38:42.017 +01:00 [DBG] Connection id "0HN6M8GE7HEQD" is closed. The last processed stream ID was 0.
2024-09-16 12:38:42.020 +01:00 [DBG] Connection id "0HN6M8GE7HEQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 12:38:42.031 +01:00 [DBG] The connection queue processing loop for 0HN6M8GE7HEQD completed.
2024-09-16 12:38:42.036 +01:00 [DBG] Connection id "0HN6M8GE7HEQD" stopped.
2024-09-16 12:38:42.117 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/index.html - null null
2024-09-16 12:38:42.438 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-16 12:38:42.566 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-16 12:38:42.570 +01:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-16 12:38:42.688 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-16 12:38:42.693 +01:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-16 12:38:42.704 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/index.html - 200 null text/html;charset=utf-8 598.8579ms
2024-09-16 12:38:42.729 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 12:38:42.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/_vs/browserLink - null null
2024-09-16 12:38:42.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 39.7073ms
2024-09-16 12:38:42.960 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/_vs/browserLink - 200 null text/javascript; charset=UTF-8 229.0114ms
2024-09-16 12:38:43.070 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - null null
2024-09-16 12:38:43.542 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 472.5184ms
2024-09-16 12:38:51.787 +01:00 [DBG] Connection id "0HN6M8GE7HEQE" received FIN.
2024-09-16 12:38:51.795 +01:00 [DBG] Connection id "0HN6M8GE7HEQE" is closed. The last processed stream ID was 7.
2024-09-16 12:38:51.795 +01:00 [DBG] Connection id "0HN6M8GE7HEQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-16 12:38:51.805 +01:00 [DBG] The connection queue processing loop for 0HN6M8GE7HEQE completed.
2024-09-16 12:38:51.809 +01:00 [DBG] Connection id "0HN6M8GE7HEQE" stopped.
